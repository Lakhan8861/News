!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e=Object.defineProperty,t=(t,o,n)=>(((t,o,n)=>{o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n})(t,"symbol"!=typeof o?o+"":o,n),n);const o=new class{constructor(){t(this,"_our_document",null),t(this,"_our_node")}set document(e){this._our_document=e}get document(){const{_our_document:e}=this;return e??globalThis.document}set Node(e){this._our_node=e}get Node(){const{_our_node:e}=this;return e??globalThis.Node}useGlobalDocument(){this._our_document=null}useGlobalNode(){this._our_node=null}},n=["circle","clipPath","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","line","linearGradient","marker","mask","metadata","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use","view"],i="http://www.w3.org/2000/svg";let s=!1;const a=function(e,t,...a){const{document:r,Node:l}=o;if("function"==typeof e)return e(t??{},a);if(function(e){return n.includes(e)}(e))return function(e,t,...n){const{document:a,Node:r}=o;s||(s=!0,console.warn("texsaur SVG support is experimental!"));const l=a.createElementNS(i,e);let c;for(c of Object.keys(t)){c=c.toString();const e=t[c];l.setAttribute(c,e)}for(let o of n)Array.isArray(o)?l.append(...o):o instanceof r?l.appendChild(o):l.append(o);return l}(e,t??{},...a);const c=r.createElement(e);let d,p=t??{};for(d of Object.keys(p)){const t=(t,o)=>console.warn(e,`received incorrect value type for property '${d}': expected `,typeof t,"instead of",typeof o);d=d.toString();const o=p[d];switch(d){case"style":if("object"==typeof o)for(const[e,t]of Object.entries(o)){const o=e;"string"==typeof t&&(c.style[o]=t)}else{if("string"==typeof o)break;t("object | string",o)}continue}if(/^on/.test(d))"function"==typeof o?c.addEventListener(d.substring(2),p[d]):t("function",o);else try{const e=c;void 0===e[d]?c.setAttribute(d,o):e[d]=o}catch(u){console.error(`Could not set ${d} on ${c.tagName}`,u),t(typeof c[d],o)}}for(let o of a.flat())o instanceof l?c.appendChild(o):"string"!=typeof o&&(null==o?void 0:o[Symbol.iterator])?c.append(...o):c.append(o);return c};a.Fragment=function(e,t){return t};const r=new class{constructor(e){t(this,"data"),t(this,"observers",[]),this.data=e}dispatch(e){this.data={...this.data,...e},this.observers.forEach((e=>{e(this.data)}))}subscribe(e){this.observers.push(e),e(this.data)}get(e){return"*"===e?this.data:this.data[e]}}({currentPage:"login"}),l=" https://images.hindustantimes.com/sso/prod/sdk-ht",c="https://accounts.hindustantimes.com",d=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,p=/^[6789]\d{9}$/,u="MOBILE",m="EMAIL",g="Verify phone number",h="Verify email",y="6Le2EZshAAAAAOEk9CbFbxI8bVNjyBhHq2vOrKu-",f="newsletter",b={default:"Log in or Sign up",newsletter:"Signup for newsletter"},_={default:"Login to enjoy a world of benefits",newsletter:"Get finely curated news and views in your inbox"},v={default:["Enjoy a newsfeed personalised as per your interests","Receive insightful newsletters right into your inbox","Get real-time updates on breaking news and alerts"],newsletter:["Get expert insights and opinions on a wide range of topics","Never miss out on the latest and trending stories","Stay informed about what's happening around the world"]},w={default:"Get ready to enjoy a personalised experience",newsletter:"Thank you for subscribing to our newsletter! It will be delivered to your inbox shortly"},S=()=>{const e=r.get("lhsContent"),t=r.get("type");let o=t?_[t]:_.default,n=t?v[t]:v.default,i=e&&e.heading&&(""!==e.heading||void 0!==e.heading)?e.heading:o,s=e&&e.listItems&&0!==e.listItems.length?e.listItems:n;const l=a("p",null);return l.innerHTML=i,a("div",{className:"sso-signup_popup_left"},l,a("i",{className:"sso-signp-arrow"},a("img",{src:"https://images.hindustantimes.com/sso/prod/sdk-ht/img/union-arrow.png",alt:!0})),a("ul",null,s&&s.map(((e,t)=>a("li",{key:t},e)))))},x=()=>a("div",{className:"sso-loading",style:{display:"none"}},a("div",{className:"sso-loadingrow"},a("img",{className:"rotate",id:"loader",src:"https://images.hindustantimes.com/sso/prod/sdk-ht/img/loaderHt.webp",alt:"loader"}),"Please Wait...")),k=(e,t,o,n,i)=>{var s=B();const a=r.get("benefitId"),l=r.get("cohortId"),c=r.get("client"),d=r.get("funnel_entry"),p=r.get("loginOption")||"all_option";let u=window.location.href,m=!1,g=!1;"undefined"!=typeof pageType&&(g="premium"===pageType),(A("token")||A("_ht_clientid"))&&(m=!0),window.dataLayer.push({event:e,domain_name:c||"HT",sso_origin:d||"other",mode_type:t||null,sso_type:o||null,story_title:s.article_title,section_name:s.article_section,sub_section_name:s.article_subsection,story_ID:s.article_id,is_premium_article:g,current_url:u,user_login_status:m||i?"logged_in":"non_logged_in",data_source:"non-amp",page_type:null,user_ID:n||null,cohort_ID:l,benefit_ID:a,intervention_type:"sdk",event_label_3:p,event_level_2:""})},L=(e,t,o,n)=>{const i=r.get("benefitId"),s=r.get("cohortId"),a=r.get("client"),l=r.get("funnel_entry");var c={};c.loginType=t,c.referrer=a,c.platform="WEB",c.htfp_id=A("_ht_fp")?A("_ht_fp"):"",c.cohort_id=s||"",c.benefit_id=i||"",c.origin=l||"other",c.ssoReason=A("funnel_entry")?A("funnel_entry"):"",c.article_section=q("article_section"),c.article_subsection=q("article_section"),c.url=A("domainReffUrl")?A("domainReffUrl"):"",c.article_id=q("article_id"),c.ssoMode=o,"email"!=o&&"mobile"!=o||(c.authorization="OTP"),n&&(c.userID=n);try{"undefined"!=typeof dapTracker?dapTracker.track(e,c,"event"):console.log("dapTracker is not available")}catch(d){console.log(d)}};var I=1036;const T=()=>{document.querySelector("#resent_otp").style.opacity="1",document.querySelector("#resent_otp").style.pointerEvents="auto",clearInterval(Le)},O=e=>{document.querySelector("#toastMessageName").innerHTML=e,document.querySelector("#toastMessageName").style.display="block",M("toastMessageName",8e3),E()},M=(e,t)=>{setTimeout((()=>{document.getElementById(e).style.display="none"}),t)},C=()=>{document.querySelector(".sso-loading").style.display="block"},E=()=>{document.querySelector(".sso-loading").style.display="none"},N=e=>JSON.stringify(e),q=e=>{var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null!=t?t[1]:null};let P;const B=()=>{try{if(P)return P;let e=new URL(window.location.href).pathname.split("/"),t=e[e.length-1].split("-"),o=null;t.length>1&&(o=t[t.length-1].match(/\d+/)?t[t.length-1].match(/\d+/)[0]:null),t.pop();let n=t.join(" ");P={article_title:n||null,article_section:e[1]?e[1]:null,article_subsection:4===e.length?e[2]:null,article_id:o||null}}catch(e){console.log(e)}return P};function A(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){let e=o[n];for(;" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(t))return e.substring(t.length,e.length)}return null}const $=()=>{const e=r.get("rootElement"),t=r.get("SDK_Callback"),o=r.get("sdk_redirect_url");e.innerHTML="",k("sso_close_widget_clicked"),L("SSOPopupClosed","","",""),A("token")&&A("_ht_clientid")&&(t?t():o?location.href=o:location.reload())};var H={large:"(min-width: 1024px)",small:"(max-width: 767px)",medium:"(min-width: 768px) and (max-width: 1023px)"};for(var j in H)if(window.matchMedia(H[j]).matches)break;navigator.vendor&&navigator.vendor.indexOf("Apple");var G="",D="";function U(){const e=r.get("client"),t=c+"/truecaller/req_id/"+e.toLowerCase();fetch(t,{method:"GET",headers:{contentType:"application/json"}}).then((e=>{e.json().then((e=>{if(e){var t=e;o=t,n=G,i=D,s="en",a="logIn",l="skip",window.location="truecallersdk://truesdk/web_verify?requestNonce="+o+"&partnerKey="+n+"&partnerName="+i+"&lang="+s+"&title="+a+"&skipOption="+l,setTimeout((function(){if(!document.hasFocus()){try{k("sso_truecaller_popup_viewed","truecaller"),L("SSOTruecallerPopUpViewed","","TruecallerPopup","")}catch(e){console.log("truecaller popup event exception:",e)}try{!function(t,o,n){C();var i=0;async function s(){var a=c+"/truecaller/login/"+n;const l=A("_ht_fp")?A("_ht_fp"):"",d=r.get("benefitId"),p=r.get("cohortId"),u=r.get("client"),m=r.get("funnel_entry"),g=window.location.href||"",h={contentType:"application/json","X-Client":I,_ht_fp:l,url_params:`benefitId=${d}&cohortId=${p}&ref=${u}&currentPageUrl=${g}&funnel_entry=${m}`};try{let n=await fetch(a,{method:"GET",headers:h}),l=await n.json();if(l.body&&1==l.body.success){let n;if(i++,l.body.data&&l.headers.Authorization){n=l.body.data;var y=l.headers.Authorization[0];if(n.token=y,null!=l&&void 0!==l&&""!=l&&function(e,t){if(null!=e&&null!=e&&""!=e)return null!=e.data&&void 0!==e.data&&""!=e.data&&null!=t.token&&void 0!==t.token&&""!=t.token;return!1}(l.body,n)){try{L("SSOLoginInitiate","","Truecaller",""),k("sso_signin_signup_initiate","truecaller")}catch(e){console.log(e)}!function(e){C(),1==e.signUp?(k("sso_signin_signup_success","truecaller","signup",e.clientId,!0),L("SSOSignUpSuccess","signup","truecaller",e.clientId)):(k("sso_signin_signup_success","truecaller","login",e.clientId,!0),L("SSOSignInSuccess","login","truecaller",e.clientId));we(e.token,e.clientId,e.name),E(),r.dispatch({currentPage:"SuccessfulLogin"})}(n)}}else{if(null!=l&&void 0!==l&&null!=l.body.success&&void 0!==l.body.success&&0==l.body.success)return E(),new Error("User rejected tc login");if(o&&i===o)return showErrorToast("Something went wrong, please try again."),E(),new Error("Exceeded max attempts");E(),setTimeout(s,t)}}else i++}catch(f){E(),console.log(f)}}s()}(4e3,6,t)}catch(e){console.log(e)}}}),600)}else alert("Something went wrong, please try again.");var o,n,i,s,a,l})).catch((function(e){console.log(e),403!=e.status&&401!=e.status&&402!=e.status||alert("Something went wrong, please try again.")}))}))}G="Nher399e83bdce7634bbbb26a2a5c7c2b7758",D="HTDS";let z=!1;var F=navigator.vendor&&navigator.vendor.indexOf("Apple")>-1;const R=()=>{let e=pe.length,t=document.getElementById("phoneErrorMessage");return""===pe?(t.textContent="Phone number is required.",V(),!1):e<10?(t.textContent="Phone number must be 10 char long.",V(),!1):!!p.test(pe)||(t.textContent="Not a valid phone.",V(),!1)},V=()=>{document.querySelector("#phoneIconlogin").classList.remove("sso-isMobileActive"),document.querySelector("#phoneContainer").classList.remove("active"),document.querySelector("#phoneContainer").classList.add("error"),document.querySelector("#phoneBox").classList.add("placeHolderColor"),document.querySelector("#phoneErrorMessage").style.display="block"},J=()=>{document.querySelector("#phoneContainer").classList.remove("error"),document.querySelector("#phoneBox").classList.remove("placeHolderColor"),document.querySelector("#phoneErrorMessage").style.display="none"},X=()=>{let e=document.getElementById("emailErrorMessage");return""===ue?(e.textContent="Email is required.",W(),!1):!!d.test(ue)||(e.textContent="Not a valid Email.",W(),!1)},W=()=>{document.querySelector("#emailIconlogin").classList.remove("sso-isEmailActive"),document.querySelector("#emailContainer").classList.remove("active"),document.querySelector("#emailErrorMessage").style.display="block",document.querySelector("#emailContainer").classList.add("error"),document.querySelector("#email").classList.add("placeHolderColor")},K=()=>{document.querySelector("#emailContainer").classList.remove("error"),document.querySelector("#email").classList.remove("placeHolderColor"),document.querySelector("#emailErrorMessage").style.display="none"},Z=(e,t)=>{if(8==t.keyCode)e.previousSibling.focus();else{let t=e.value;t.length>1&&(e.value=t.substring(0,1)),e.nextSibling.focus()}},Q=()=>{let e=document.querySelector("#otp1").value,t=document.querySelector("#otp2").value,o=document.querySelector("#otp3").value,n=document.querySelector("#otp4").value,i=document.querySelector("#otp5").value,s=document.querySelector("#otp6").value;if(""!=e&&""!=t&&""!=o&&""!=n&&""!=i&&""!=s){const e=r.get("type"),t=r.get("loginOption"),o=A("token"),n=A("_ht_clientid");(e===f||"email"===t)&&o&&n?Y():se()}else te()};var Y=async()=>{const e=r.get("otpFor"),t=r.get("id"),o=A("token"),n=r.get("client");if(1!=ie){ie=!0;let s=c+"/v3/email/loggedinUser/verifyOtp",a={email:ue,otp:oe(),otpFor:e,referrer:n,newsletterIds:t,newsletterMergeRequest:!0,newsletterConsent:!1},l={"Content-Type":"application/json","X-Client":I,Authorization:o};try{let e=await fetch(s,{method:"POST",headers:l,body:JSON.stringify(a)}),t=await e.json();if(t.success){if(t.data.authenticationToken){let e=t.data.name,o=t.data.clientId,n=t.data.authenticationToken;we(n,o,e)}T(Le),E(),r.dispatch({currentPage:"SuccessfulLogin"})}else{let e=t&&t.message?t.message.text:"Something went wrong";ne(e)}ie=!1,T(Le),E()}catch(i){ie=!1,T(),console.log(i),E()}}};const ee=()=>{te();for(let e=1;e<7;e++)document.querySelector("#otp"+e).value=""},te=()=>{document.querySelector(".sso-otp-enter-box-wrap").classList.remove("error"),document.querySelector(".sso-error-msg").style.display="none"},oe=()=>{let e="";for(let t=1;t<7;t++)e+=document.querySelector(`#otp${t}`).value;return e},ne=e=>{document.querySelector(".sso-otp-enter-box-wrap").classList.add("error");let t=e||(de==u?"Sorry, we are not able to verify the OTP. Please make sure you enter the right OTP.":"Sorry, we are not able to verify the code. Please make sure you enter the right code."),o=document.querySelector(".sso-error-msg");o.innerHTML=t,o.style.display="block"};var ie=!1;const se=async()=>{if("true"!=ie){ie="true";const t=r.get("benefitId"),o=r.get("cohortId"),n=r.get("id"),i=r.get("funnel_entry")||"other",s=r.get("client");let a=c+"/otp/validate/"+(de==u?"mobile":"email"),l=!!document.querySelector("#promoVal").checked;const d=window.location.href||"";let p=de==u?{cellNumber:"91"+pe,referrer:s,otp:oe()}:{email:ue,referrer:s,otp:oe()};const m={"Content-Type":"application/json","X-Client":I,_ht_fp:A("_ht_fp")?A("_ht_fp"):"",url_params:`benefitId=${t}&cohortId=${o}&ref=${s}&currentPageUrl=${d}&newsletterId=${n}&funnel_entry=${i}`,emailConsent:l};if(oe().length<6)return;try{let e=await fetch(a,{method:"POST",headers:m,body:JSON.stringify(p)}),t=await e.json();if(t.body&&1==t.body.success){let e=t.body.data.name,o=t.body.data.clientId,n=t.headers.Authorization[0];t.body.data.signUp?(L("SSOSignUpSuccess","signup",de===u?"mobile":"email",o),k("sso_signin_signup_success",de===u?"mobile":"email","signup",o,!0)):(L("SSOSignInSuccess","login",de===u?"mobile":"email",o),k("sso_signin_signup_success",de===u?"mobile":"email","login",o,!0)),we(n,o,e),T(Le),E(),r.dispatch({currentPage:"SuccessfulLogin"})}else{let e=t.body.message?t.body.message:"";"G_042"==e.code?ne(e.text):ne(),ie="false"}T(Le),E()}catch(e){ne(),T(),ie="false",E()}}},ae=()=>{const e=e=>document.getElementById(e);return a("div",{className:"inpHolder  sso-otp-enter-box-wrap byemail error1",id:"otpfield"},a("input",{type:"tel",id:"otp1",oninput:()=>(()=>{const e=document.querySelector("#otp1").value.substring(0,6);for(let t=0;t<e.length;t++)document.querySelector("#otp"+(t+1)).value=e[t];Q()})(),onkeyup:t=>[Q(),Z(e("otp1"),t)],pattern:"^[0-9]$;",className:"inp otp otp-no",autocomplete:"off"}),a("input",{type:"tel",id:"otp2",oninput:()=>te(),onkeyup:t=>[Q(),Z(e("otp2"),t)],pattern:"^[0-9]$;",className:"inp otp otp-no",autocomplete:"off"}),a("input",{type:"tel",id:"otp3",oninput:()=>te(),onkeyup:t=>[Q(),Z(e("otp3"),t)],pattern:"^[0-9]$;",className:"inp otp otp-no",autocomplete:"off"}),a("input",{type:"tel",id:"otp4",oninput:()=>te(),onkeyup:t=>[Q(),Z(e("otp4"),t)],pattern:"^[0-9]$;",className:"inp otp otp-no",autocomplete:"off"}),a("input",{type:"tel",id:"otp5",oninput:()=>te(),onkeyup:t=>[Q(),Z(e("otp5"),t)],pattern:"^[0-9]$;",className:"inp otp otp-no",autocomplete:"off"}),a("input",{type:"tel",id:"otp6",oninput:()=>te(),onkeyup:t=>[Q(),Z(e("otp6"),t)],pattern:"^[0-9]$;",className:"inp otp otp-no",autocomplete:"off"}))},re=()=>{const e=e=>document.getElementById(e);return a("div",{className:"inpHolder  sso-otp-enter-box-wrap byemail error1",id:"otpfield"},a("input",{type:"number",id:"otp1",maxLength:1,oninput:()=>te(),onkeyup:t=>[Q(),Z(e("otp1"),t)],className:"inp otp otp-no",autocomplete:"off"}),a("input",{type:"number",id:"otp2",maxLength:1,oninput:()=>te(),onkeyup:t=>[Q(),Z(e("otp2"),t)],className:"inp otp otp-no",autocomplete:"off"}),a("input",{type:"number",id:"otp3",maxLength:1,oninput:()=>te(),onkeyup:t=>[Q(),Z(e("otp3"),t)],className:"inp otp otp-no",autocomplete:"off"}),a("input",{type:"number",id:"otp4",maxLength:1,oninput:()=>te(),onkeyup:t=>[Q(),Z(e("otp4"),t)],className:"inp otp otp-no",autocomplete:"off"}),a("input",{type:"number",id:"otp5",maxLength:1,oninput:()=>te(),onkeyup:t=>[Q(),Z(e("otp5"),t)],className:"inp otp otp-no",autocomplete:"off"}),a("input",{type:"number",id:"otp6",maxLength:1,oninput:()=>te(),onkeyup:t=>[Q(),Z(e("otp6"),t)],className:"inp otp otp-no",autocomplete:"off"}))},le=()=>{var e,t;navigator.userAgent.match(/chrome|chromium|CriOS/i)?null==(e=document.getElementById("otpTextScreen"))||e.append(a(ae,null)):null==(t=document.getElementById("otpTextScreen"))||t.append(a(re,null))},ce=e=>{var t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)};let de=u,pe="",ue="";const me=e=>{de=e},ge=e=>{document.getElementById(e).addEventListener("keyup",(function(e){13===e.keyCode&&(e.preventDefault(),submitDetail())}))},submitDetail=e=>{e.preventDefault(),(de===u?R():X())&&(C(),he(),fe())},he=()=>{k("sso_signin_signup_initiate",de==u?"mobile":"email"),L("SSOLoginInitiate","",de==u?"mobile":"email","")};function ye(){k("sso_otp_page_viewed",de==u?"mobile":"email"),L("SSOOTPPageViewed","",de==u?"mobile":"email","")}const fe=()=>{grecaptcha.ready((function(){grecaptcha.execute(y,{action:"submit"}).then((function(e){be(e)}))}))},be=e=>{const t=r.get("client"),o=r.get("type"),n=r.get("loginOption"),i=A("_ht_clientid"),s=A("token");if((o===f||"email"===n)&&s&&i)_e(s);else if(de===u){ve({cellNumber:"91"+pe,referrer:t,authorization:e},"mobile")}else if(de===m){ve({email:ue,referrer:t,authorization:e},"email")}},_e=async e=>{const t=A("name"),o=c+"/v3/email/loggedinUser/generateOtp",n={email:ue,name:t,newsletterMergeRequest:!0,otpFor:"Authentication",referrer:"LM"};let i={Authorization:e,"X-Client":I,"Content-Type":"application/json"};try{let e=await fetch(o,{method:"POST",headers:i,body:JSON.stringify(n)}),t=await e.json();if(t.success)ye(),E(),r.dispatch({otpFor:t.data.otpFor}),r.dispatch({currentPage:"otp"}),le();else{let e=t&&t.message?t.message.text:" ";O(e)}}catch(s){console.log(JSON.stringify(s)),E()}},ve=async(e,t,o)=>{let n=c+"/otp/"+t;const i=r.get("funnel_entry")||"other",s=window.location.href||"";let a={"Content-Type":"application/json","X-Client":I,"X-Platform":"WEB",_ht_fp:A("_ht_fp")?A("_ht_fp"):"",url_params:`currentPageUrl=${s}&funnel_entry=${i}`};try{let t=await fetch(n,{method:"POST",headers:a,body:JSON.stringify(e)}),o=await t.json();if(1==o.success&&o.data){if(!o.data.valid)return O("Limit exceeded!"),void E();ye(),E(),r.dispatch({currentPage:"otp"}),le()}else{console.log("Something went wrong while sending otp : "+N(o));let e=o&&o.message&&o.message?o.message:"";O(e.text)}}catch(l){console.log(JSON.stringify(l)),E()}},we=(e,t,o)=>{ce(`${l}/css/SuccessfulLogin.css`);var n=new Date;n.setTime(n.getTime()+31536e6);var i=";expires ="+n.toGMTString(),s=";domain =.hindustantimes.com;path=/;SameSite=None; Secure=true";document.cookie="token="+e+i+s,document.cookie="_ht_clientid="+t+i+s,document.cookie="name="+o+i+s,document.cookie="ht_token="+e+i+s},Se=()=>{k("sso_get_help_clicked"),location.href="https://accounts.hindustantimes.com/?ref=ht&renderHelp_Support=true"},xe=(e,t)=>{let o,n=r.get("type");switch(e.mobileHeading){case"login":default:o=n===f?b[n]:b.default;break;case"otp":o=de===u?g:h;break;case"success":o="Login Successful"}return a("div",{class:"wrapper sdk_wrapper"},a("div",{class:"sso-content-wrap"},a("div",{class:"sdk_container"},a("div",{class:"sso-signup_popup"},a("div",{class:"sso-signup_popup_row"},a("span",{class:"sso-msiteheading normal"},o),a("i",{class:"sso-popop-close",onclick:$},a("img",{src:"https://images.hindustantimes.com/sso/prod/sdk-ht/img/icon-material-close.png",alt:""})),a(x,null),e.showBenefit?a(S,null):"",t)))))},ke=(e,t)=>a("div",{class:"sso-white-box"},a("div",{class:"sso-white-box-in",style:{padding:e.padding}},a("h2",{class:"sso-heading"},e.heading),a("div",{class:"flex-type"},t)));let Le;const Ie=()=>{let e=!0;screen.width<767&&(e=!1),setTimeout((()=>{t(),Le=setInterval((()=>{(()=>{const e=document.querySelector("#resent_otp");let t=document.getElementById("sec").innerHTML;if(e&&(e.style.opacity="0.3",e.style.pointerEvents="none"),t){let e=t>10?--t:t>0?"0"+--t:T();document.getElementById("sec").innerHTML=e}})()}),1e3),o(),document.querySelector("#otpTextScreen").addEventListener("paste",(e=>{var t=e.clipboardData.getData("text/plain").substring(0,6);for(let o=0;o<t.length;o++)document.querySelector("#otp"+(o+1)).value=t[o],console.log(t,"pasteData");Q(),e.preventDefault()}))}),0);const t=()=>{document.querySelector(".sso-signup_popup_row").classList.add("otpclass");let e=document.querySelector(".otpTxt span"),t=document.querySelector(".sso-edit-number");de===u?(e.innerHTML="Enter the OTP we have sent via SMS to  +91 <br/>"+pe+". ",t.innerHTML="Edit phone number"):(e.innerHTML="Enter the code we have sent via mail to  <br>"+ue+".",t.innerHTML="Edit email",document.querySelector(".check").style.display="block")},o=()=>{const e=new AbortController;setTimeout((()=>{signal.abort()}),6e4),async function(){if("OTPCredential"in window){let{code:t,type:o}=await navigator.credentials.get({signal:e.signal,otp:{transport:["sms"]}});for(let e=0;e<t.length;e++)document.querySelector("#otp"+(e+1)).value=t[e];Q()}else console.log("OTPCredential failed")}()};return a(xe,{showBenefit:e,mobileHeading:"otp"},a(ke,{heading:de===u?g:h},a(a.Fragment,null,a("div",{class:"otpTxt sso-helptext"},a("span",null),a("a",{href:"javascript:void(0);",className:"sso-edit-number",onclick:()=>(ee(),T(),void r.dispatch({currentPage:"login"}))},"Edit phone number")),a("div",{className:"check",style:{display:"none"}},a("label",{className:"otpContainer"},a("input",{type:"checkbox",className:"checkbox",id:"promoVal",defaultChecked:!0,name:"promoVal"})," I wish to receive news and promotions from HT on email.",a("span",{className:"checkmark",id:"promoInp"}))),a("div",{className:"flex-type"},a("div",{id:"otpTextScreen"}," "),a("span",{className:"sso-error-msg big"}),a("div",{className:"sso-reset-timer timer"},a("a",{href:"javascript:void(0);",id:"resent_otp",onclick:()=>(C(),ee(),T(),fe(),k("sso_resend_otp_clicked",de===u?"mobile":"email"),void L("SSOOTPResendClicked","",de===u?"mobile":"email","")),style:{textDecoration:"underline"}},"Resend OTP"),a("br",null),a("span",null,"00")," : ",a("span",{id:"sec"},"30"))),a("span",{class:"sso-last-elem"},"Trouble login in? ",a("a",{onclick:Se},"Get help")),a("div",{class:"alignC",style:"visibility:hidden;"},a("input",{type:"button",id:"submitOtp",class:"btnBox",disabled:!0,value:"Verify OTP"})))))},Te=()=>a("div",null,a("div",{id:"isEmail",style:"display:block"},a("div",{class:"sso-text-box-wrap error1",id:"emailContainer"},a("div",{class:"icon sso-email-icon ic-i",id:"emailIconlogin"}),a("div",{class:"sso-textbox inpHolder",id:"sso-emailDetail"},a("input",{type:"email",name:"email",id:"email",value:ue,class:"telphone emailInplogin tbp input-number",autofocus:!0,placeholder:"Enter your Email",onchange:e=>(e=>{ue=e.target.value})(e),onclick:()=>(document.querySelector("#emailIconlogin").classList.add("sso-isEmailActive"),document.querySelector("#emailContainer").classList.add("active"),K(),L("SSOInputBoxClicked","","email",""),void k("input_box_clicked","email"))}))),a("span",{class:"sso-error-msg",id:"emailErrorMessage"},"Email is required.")),a("div",{class:"patch",style:"display: none",id:"toastMessageName"}),a("div",{class:"sso-tnc"},"After completing login, you agree to our ",a("a",{href:"https://www.hindustantimes.com/termsofuse"},"Terms")," & ",a("a",{href:"https://www.hindustantimes.com/privacy-policy"},"Privacy Policy"),"."),a("button",{id:"EmailBtnSubmit",class:"sso-continue-btn",onclick:e=>submitDetail(e)},"Continue")),Oe=({renderEmailMainLogin:e})=>a("div",null,a("a",{class:"login-with-mail login-link",id:"emailBlock",style:"display:flex",onclick:()=>e()},a("img",{id:"headerMintLogo",src:"https://accounts.hindustantimes.com/images/mobile/mail.svg",alt:"mint",title:"mint",style:{width:"23px",height:"23px"}}),"  Continue with Email")),Me=()=>a("div",null,a("div",{id:"isMobile",style:"display:block"},a("div",{class:"sso-text-box-wrap error1",id:"phoneContainer"},a("div",{class:"icon",id:"phoneIconlogin"}),a("div",{class:"sso-textbox inpHolder",id:"phoneNum"},a("div",{className:"flag_icon"},a("span",null,"+91")),a("input",{type:"tel",name:"phone",id:"phoneBox",value:pe,class:"telphone phoneInplogin tbp input-number",autofocus:!0,autoComplete:"off",onclick:()=>(document.querySelector("#phoneIconlogin").classList.add("sso-isMobileActive"),document.querySelector("#phoneContainer").classList.add("active"),J(),window.screen.width<460&&!z&&!F?(z=!0,U()):(L("SSOInputBoxClicked","","mobile",""),k("sso_input_box_clicked","mobile")),void L("SSOInputBoxClicked","","mobile","")),onchange:e=>(e=>{pe=e.target.value})(e),placeholder:"Enter your phone number",maxlength:"10"}))),a("span",{class:"sso-error-msg",id:"phoneErrorMessage"},"Phone number is required.")),a("div",{class:"patch",style:"display: none",id:"toastMessageName"}),a("div",{class:"sso-tnc"},"After completing login, you agree to our ",a("a",{href:"https://www.hindustantimes.com/termsofuse"},"Terms")," & ",a("a",{href:"https://www.hindustantimes.com/privacy-policy"},"Privacy Policy"),"."),a("button",{id:"phoneBtnSubmit",type:"submit",name:"continue",class:"sso-continue-btn",onclick:e=>submitDetail(e)},"Continue")),Ce=({renderMobileMainLogin:e})=>a("div",null,a("a",{className:"login-with-mail login-link",id:"mobileBlock",style:{display:"flex"},onclick:()=>e()},a("img",{id:"headerMintLogo",src:"https://accounts.hindustantimes.com/images/mobile/call.png",alt:"mint",title:"mint",style:{width:"23px",height:"23px"}}),"  Continue with Mobile")),Ee=()=>a("div",null,a("div",{id:"sso-buttonDiv"})),Ne=[{platform:"MWEB",referrer:"LM",primaryLoginMethods:[{name:"EMAIL",priority:50},{name:"GOOGLE",priority:55},{name:"MICROSOFT",priority:56}],primaryINLoginMethods:[{name:"MOBILE",priority:30},{name:"GOOGLE",priority:55},{name:"TRUECALLER",priority:50},{name:"EMAIL",priority:50},{name:"MICROSOFT",priority:56}]},{platform:"WEB",referrer:"LM",primaryLoginMethods:[{name:"EMAIL",priority:50},{name:"GOOGLE",priority:60},{name:"MICROSOFT",priority:56}],primaryINLoginMethods:[{name:"MOBILE",priority:70},{name:"GOOGLE",priority:55},{name:"EMAIL",priority:50},{name:"MICROSOFT",priority:56}]}],qe=()=>{let e,t,o="",n="";var i;let s="IN",l=r.get("type"),c=r.get("loginOption");setTimeout((()=>{e=document.querySelector("#mainLoginMethods"),t=document.querySelector("#primaryLoginMethods"),document.querySelector("#otherLoginIcon"),d()}),0);const d=()=>{if(window.screen.width<767){i=Ne[0];const e="in"==s.toLowerCase()?i.primaryINLoginMethods:i.primaryLoginMethods;n=e[0].name}else{i=Ne[1];const e="in"==s.toLowerCase()?i.primaryINLoginMethods:i.primaryLoginMethods;n=e[0].name}if(l===f||"email"===c||"mobile"===c){const e=A("token"),t=A("_ht_clientid");e&&t?(g(c.toUpperCase()),document.getElementById("lastElement").style.marginTop="85px",me(m)):"mobile"===c?(g(c.toUpperCase()),me(u),document.getElementById("lastElement").style.marginTop="85px"):(g(c.toUpperCase()),me(m))}else p()},p=t=>{o=n,e.innerHTML="",t==u?(e.append(a(Me,null)),o=u,h(u)):t==m?(e.append(a(Te,null)),o=m,h(m)):n==u?(e.append(a(Me,null)),h(u)):n==m?(e.append(a(Te,null)),h(m)):e.append(y[n])},g=t=>{e.innerHTML="",t==u?(e.append(a(Me,null)),h([u,m])):t==m&&(e.append(a(Te,null)),h([u,m]))},h=e=>{const a="in"==s.toLowerCase()?i.primaryINLoginMethods:i.primaryLoginMethods;t.innerHTML="",a.forEach((i=>{if(!e.includes(i.name)){const e=y[i.name];e&&(o==u&&i.name==u||o==m&&i.name==m?t.insertAdjacentHTML("afterbegin",y[n]):t.append(e))}}))},y={GOOGLE:a(Ee,null),EMAIL:a(Oe,{renderEmailMainLogin:()=>{p(m),me(m),k("sso_option_selected","email"),L("SSOOptionSelected","","email",""),ge("email"),googleOneTapInitialization()}}),MOBILE:a(Ce,{renderMobileMainLogin:()=>{p(u),me(u),k("sso_option_selected","mobile"),L("SSOOptionSelected","","mobile",""),ge("phoneBox"),googleOneTapInitialization()}})};return a(xe,{showBenefit:!0,mobileHeading:"login"},a(ke,{heading:l===f?b[l]:b.default},a(a.Fragment,null,a("div",{id:"mainLoginMethods"}),a("div",{class:"sso-seperator",id:"separator"},a("span",null,"OR")),a("div",{id:"primaryLoginMethods",class:"primaryLoginMethods"}),a("span",{class:"sso-last-elem",id:"lastElement"},"Trouble login in? ",a("a",{onclick:Se},"Get help")))))},Pe=()=>{setTimeout((()=>{$()}),4e3);const e=r.get("benefitMessage"),t=r.get("thank_you_message"),o=r.get("type"),n=t||(e||(o===f?w[o]:w.default));return setTimeout((()=>{document.querySelector(".sso-signup_popup_row").classList.add("success_screen_checker")}),0),a(xe,{showBenefit:!1,mobileHeading:"success"},a("div",{className:"sso-Congratulations"},a("h2",{class:""},"Login Successful"),a("img",{src:"https://images.hindustantimes.com/sso/prod/sdk/images/success-image.gif"}),a("p",null,n)))},Be=(e,t)=>{const o=document.createElement("script");o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,t&&t())}:o.onload=function(){t&&t()},o.src=e,o.defer=!0,document.head.appendChild(o)};const Ae=e=>{C();const t=r.get("client"),o=(e=>{try{return JSON.parse(atob(e.split(".")[1]))}catch(t){return null}})(e.credential);var n={};n.name=o.name,n.email=o.email,n.userId=o.sub,n.image=o.picture,n.subscription="N",n.source="O",n.referrer=t,n.socialAccessToken=e.credential,n.newsletterConsent=!1,(async e=>{let t=c+"/social-login";const o=r.get("id"),n=A("_ht_fp")?A("_ht_fp"):"",i=window.location.href||"",s=r.get("funnel_entry")||"other",a={"Content-Type":"application/json","X-Client":I,_ht_fp:n,url_params:`newsletterId=${o}&currentPageUrl=${i}&funnel_entry=${s}`},l=JSON.stringify(e);try{let o=await fetch(t,{method:"POST",headers:a,body:l}),n=await o.json();if(1==n.body.success){let t=n.headers.Authorization[0],o=n.body.data.name,i=n.body.data.clientId,s=n.body.data.signUp,a="";e.source,a="google";let l=s?"signup":"login";s?L("SSOSignUpSuccess","signup",a,i):L("SSOSignInSuccess","login",a,i),k("sso_signin_signup_success",a,l,i,!0),we(t,i,o),E(),r.dispatch({currentPage:"SuccessfulLogin"})}else console.log("Something went wrong while login google  : "+N(n));E()}catch(d){console.log(JSON.stringify(d)),E()}})(n)},$e=()=>{let e=window.innerWidth;google.accounts.id.initialize({client_id:"63441311927-om5du5etm5btgsif64dgsr0n7nnneo6d.apps.googleusercontent.com",use_fedcm_for_prompt:!1,callback:Ae}),google.accounts.id.renderButton(document.getElementById("sso-buttonDiv"),{type:"standard",shape:"pill",theme:"outline",text:"continue_with",size:"large",logo_alignment:"center",width:e>767?"300px":"320px",click_listener:He})};function He(){console.log("Google clicked"),k("sso_signin_signup_initiate","google"),L("SSOLoginInitiate","","google","")}ce(`${l}/css/benefits.css`),ce(`${l}/css/Login.css`),ce(`${l}/css/loader.css`),window.sso={render:function(e){Be(`https://accounts.google.com/gsi/client?_=${(new Date).getTime()}`,$e);const{element:t,client:o,primaryColor:n,benefitId:i,cohortId:s,lhsContent:c,funnel_entry:d,SDK_Callback:p,thank_you_message:m,sdk_redirect_url:g,type:h,id:f,loginOption:b}=e;(e=>{const t=document.createElement("style");t.appendChild(document.createTextNode(e)),document.head.appendChild(t)})(":root{--orange: rgb(28, 177, 205);--gradienrorangeleft: #1cb1cd;--gradienrorangeright: #1cb1cd}.orange{color:var(--orange)}input,body{font-family:Lato,sans-serif;background-color:#fff}.sso-white-box-in .sso-heading{text-align:center;margin:0 0 24px}.sso-tnc{font-family:Lato,sans-serif;font-size:14px;color:#7a7979}.sso-tnc a{text-decoration:none;color:var(--orange)}.sdk_wrapper *{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.sso-content-wrap{float:left;width:100%;height:calc(100vh - 60px);background-image:url(https://images.hindustantimes.com/sso/prod/sdk/images/building.png);background-position:bottom;background-size:contain;background-repeat:no-repeat}.sdk_container{max-width:1140px;margin:0 auto}.sso-msiteheading{display:none}.sso-popop-close{position:absolute;right:20px;top:20px;cursor:pointer}@media only screen and (max-width: 767px){.sso-text-box-wrap .sso-textbox #phoneBox{height:40px;padding-left:64px}.sso-signup_popup_row{display:flex;flex-direction:column;position:absolute;width:100%;height:80%;bottom:0;padding:30px;justify-content:flex-start;overflow-x:hidden}.sso-signup_popup_row .login-link{border-radius:22px;box-shadow:0 0 8px #00000012;background-color:#fff;height:41px;width:320px}.sso-signup_popup_left{width:100%}.sso-msiteheading{display:flex;justify-content:center;border-bottom:1px dashed #b7b5b5;font-family:Lato,sans-serif;color:#3a3a3a;line-height:.95;font-size:22px;padding-bottom:15px;margin-bottom:15px;width:100%;position:static;font-weight:600}.sso-white-box-in .sso-heading{display:none}}\n"),r.dispatch({rootElement:t,client:o.toUpperCase(),primaryColor:n,lhsContent:c,benefitId:i,cohortId:s,funnel_entry:d,SDK_Callback:p,thank_you_message:m,sdk_redirect_url:g||location.href,type:h?h.toLowerCase():"",id:f||"",loginOption:b?b.toLowerCase():"",currentPage:"login"}),t.innerHTML="",me(u),t.append(function(e){e&&Be(`https://www.google.com/recaptcha/api.js?render=${y}`);const t=a("div",null,a(qe,null));return setTimeout((()=>{ce(`${l}/css/otp.css`),ce(`${l}/css/otpBoxes.css`),ce(`${l}/css/SuccessfulLogin.css`)}),300),r.subscribe((async({currentPage:e})=>{"login"===e&&(t.innerHTML="",t.append(a(qe,null))),"otp"===e&&(t.innerHTML="",t.append(a(Ie,null))),"SuccessfulLogin"===e&&(t.innerHTML="",t.append(a(Pe,null)))})),t}(e)),k("sso_page_viewed"),L("SSOPageViewed","","","")}}}));
